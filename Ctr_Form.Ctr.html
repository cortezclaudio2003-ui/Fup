<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Novo Contrato</title>
    
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="Ctr_Form.Ctr.css">
</head>
<body>

    <div class="top-action-bar">
        <div class="action-left">
            <button class="btn-text-only" onclick="window.location.href='Pg_Contratos.html'">
                <span class="material-icons-outlined">close</span> Cancelar
            </button>
            <button class="btn-text-only" id="btnSalvarRascunho">
                <span class="material-icons-outlined">save</span> Salvar Rascunho
            </button>
        </div>
        <div class="action-right">
            <button class="btn-dropdown">
                Opções <span class="material-icons">arrow_drop_down</span>
            </button>
        </div>
    </div>

    <div class="main-scroll-area">
        <form id="formNovoContrato">
            
            <div class="header-banner">
                <div class="banner-box-left">
                    <span class="lbl-contrato">Contrato</span>
                    <span class="val-contrato">NOVO</span>
                    <span class="val-id">Rascunho</span>
                </div>
                <div class="banner-info-center">
                    <input type="text" id="inputTitulo" class="input-transparent-title" placeholder="Digite o Título do Contrato aqui..." required>
                    <div class="user-row">
                        <span class="material-icons-outlined icon-user">person</span> Guilherme Kovalski
                    </div>
                    <div class="email-row">
                        <span class="material-icons-outlined icon-mail">email</span> guilherme.almeida@vivara.com.br
                    </div>
                </div>
                <div class="banner-totals-right">
                    <div class="total-line">
                        Total: <span id="lblTotalHeader">BRL 0,00</span>
                    </div>
                    <div class="utilizado-line">
                        Utilizado: BRL 0,00 | Saldo: BRL 0,00
                    </div>
                    <div class="status-line">EM EDIÇÃO</div>
                </div>
            </div>

            <div class="section-block">
                <div class="block-title">Fornecedor</div>
                <div class="supplier-row">
                    <div class="input-wrapper">
                        <label>Razão Social / Fornecedor</label>
                        <input type="text" id="inputFornecedor" class="input-clean" placeholder="Pesquise o fornecedor..." required>
                    </div>
                    <div class="input-wrapper">
                        <label>CNPJ</label>
                        <input type="text" id="inputCnpj" class="input-clean" placeholder="00.000.000/0000-00">
                    </div>
                    <div class="input-wrapper">
                        <label>Email Contato</label>
                        <input type="text" id="inputEmailForn" class="input-clean" placeholder="contato@fornecedor.com.br">
                    </div>
                </div>
            </div>

            <div class="section-block">
                <div class="data-grid">
                    <div class="grid-cell label">Contrato:</div>
                    <div class="grid-cell value text-orange">Gerado ao Salvar</div>
                    <div class="grid-cell label">Número Contrato Cliente:</div>
                    <div class="grid-cell value"><input type="text" class="input-grid" placeholder="Opcional"></div>

                    <div class="grid-cell label">Título:</div>
                    <div class="grid-cell value" id="mirrorTitulo">...</div>
                    <div class="grid-cell label">Data Criação:</div>
                    <div class="grid-cell value" id="txtDataCriacao">...</div>

                    <div class="grid-cell label">Comprador Responsável:</div>
                    <div class="grid-cell value">Guilherme Kovalski</div>
                    <div class="grid-cell label">Cotação:</div>
                    <div class="grid-cell value"><input type="text" class="input-grid" placeholder="Nº Cotação"></div>

                    <div class="grid-cell label">Início Vigência:</div>
                    <div class="grid-cell value"><input type="date" id="inputInicio" class="input-grid"></div>
                    <div class="grid-cell label">Fim Vigência:</div>
                    <div class="grid-cell value"><input type="date" id="inputFim" class="input-grid"></div>

                    <div class="grid-cell label">Categoria:</div>
                    <div class="grid-cell value">
                        <select id="selectCategoria" class="input-grid">
                            <option>Cont. Serviço Valor</option>
                            <option>Material</option>
                        </select>
                    </div>
                    <div class="grid-cell label">Tipo de Frete:</div>
                    <div class="grid-cell value">
                        <select class="input-grid">
                            <option>CIF</option><option>FOB</option><option>Sem Frete</option>
                        </select>
                    </div>

                    <div class="grid-cell label">Valor Limite:</div>
                    <div class="grid-cell value"><input type="text" id="inputValorLimite" class="input-grid" placeholder="0,00"></div>
                    <div class="grid-cell label">Observação ERP:</div>
                    <div class="grid-cell value"><input type="text" class="input-grid" placeholder="Texto breve..."></div>
                </div>
            </div>

            <div class="section-block">
                <div class="block-title toggle-trigger">
                    <span class="material-icons-outlined" style="font-size: 14px;">expand_less</span> Anexos
                </div>
                <div class="anexos-row">
                    <div class="anexo-item">
                        <span class="label">Anexo Comprador:</span>
                        <span class="status"><span class="material-icons-outlined">attach_file</span> Nenhum anexo.</span>
                    </div>
                    <div class="anexo-item">
                        <span class="label">Anexo Geral:</span>
                        <span class="status"><span class="material-icons-outlined">attach_file</span> Nenhum anexo.</span>
                    </div>
                </div>
            </div>

            <div class="section-block">
                <div class="table-controls">
                    <div class="search-box-table">
                        <input type="text" placeholder="Busca Rápida">
                        <span class="material-icons-outlined">close</span>
                    </div>
                    <div class="right-controls">
                        <button type="button" class="btn-add-item" id="btnAdicionarItem">+ Adicionar Item</button>
                    </div>
                </div>

                <div class="table-wrapper">
                    <table class="contract-table">
                        <thead>
                            <tr>
                                <th width="30"><input type="checkbox"></th>
                                <th width="40">Item</th>
                                <th>Código Cliente</th>
                                <th>Código</th>
                                <th>Descrição</th>
                                <th>Unidade</th>
                                <th>Preço</th>
                                <th>Quantidade</th>
                                <th>Status</th>
                                <th width="120">Ações</th>
                            </tr>
                        </thead>
                        <tbody id="tbodyItens">
                            </tbody>
                    </table>
                </div>
                
                <div class="table-footer-info">
                    Encontrado <span id="cntItens">0</span> item.
                </div>
            </div>

            <div class="footer-actions">
                <button type="button" class="btn-final-cancel" onclick="window.location.href='Pg_Contratos.html'">Cancelar</button>
                <button type="submit" class="btn-final-save">Criar Contrato</button>
            </div>

        </form>
    </div>

    <div id="modalItem" class="modal-overlay" style="display: none;">
        <div class="modal-box">
            <h3>Novo Item do Contrato</h3>
            <div class="modal-form">
                <label>Descrição / Serviço</label>
                <input type="text" id="mdlDescricao" class="input-modal" placeholder="Ex: Propaganda e Publicidade">
                
                <div class="row-2">
                    <div>
                        <label>Código (Opcional)</label>
                        <input type="text" id="mdlCodigo" class="input-modal" value="SV-1706-0008">
                    </div>
                    <div>
                        <label>Unidade</label>
                        <select id="mdlUn" class="input-modal">
                            <option>UN</option><option>HR</option><option>SV</option>
                        </select>
                    </div>
                </div>
                
                <div class="row-2">
                    <div>
                        <label>Quantidade</label>
                        <input type="number" id="mdlQtd" class="input-modal" value="1">
                    </div>
                    <div>
                        <label>Preço Unitário (BRL)</label>
                        <input type="number" id="mdlPreco" class="input-modal" placeholder="0,00">
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-modal-cancel">Cancelar</button>
                <button type="button" id="btnConfirmarItem" class="btn-modal-confirm">Adicionar</button>
            </div>
        </div>
    </div>

    <script src="Ctr_Form.Ctr.js"></script>
</body>
</html>